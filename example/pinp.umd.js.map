{"version":3,"file":"pinp.umd.js","sources":["../node_modules/get-size/get-size.js","../node_modules/ev-emitter/ev-emitter.js","../node_modules/unipointer/unipointer.js","../node_modules/unidragger/unidragger.js","../node_modules/draggabilly/draggabilly.js","../src/utils/class-autobind.js","../src/abstractions/Box.js","../src/abstractions/Cluster.js","../src/utils/object-is-dom-element.js","../src/utils/noop.js","../src/index.js"],"sourcesContent":["/*!\n * getSize v2.0.3\n * measure size of elements\n * MIT license\n */\n\n/* jshint browser: true, strict: true, undef: true, unused: true */\n/* globals console: false */\n\n( function( window, factory ) {\n  /* jshint strict: false */ /* globals define, module */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory();\n  } else {\n    // browser global\n    window.getSize = factory();\n  }\n\n})( window, function factory() {\n'use strict';\n\n// -------------------------- helpers -------------------------- //\n\n// get a number from a string, not a percentage\nfunction getStyleSize( value ) {\n  var num = parseFloat( value );\n  // not a percent like '100%', and a number\n  var isValid = value.indexOf('%') == -1 && !isNaN( num );\n  return isValid && num;\n}\n\nfunction noop() {}\n\nvar logError = typeof console == 'undefined' ? noop :\n  function( message ) {\n    console.error( message );\n  };\n\n// -------------------------- measurements -------------------------- //\n\nvar measurements = [\n  'paddingLeft',\n  'paddingRight',\n  'paddingTop',\n  'paddingBottom',\n  'marginLeft',\n  'marginRight',\n  'marginTop',\n  'marginBottom',\n  'borderLeftWidth',\n  'borderRightWidth',\n  'borderTopWidth',\n  'borderBottomWidth'\n];\n\nvar measurementsLength = measurements.length;\n\nfunction getZeroSize() {\n  var size = {\n    width: 0,\n    height: 0,\n    innerWidth: 0,\n    innerHeight: 0,\n    outerWidth: 0,\n    outerHeight: 0\n  };\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    size[ measurement ] = 0;\n  }\n  return size;\n}\n\n// -------------------------- getStyle -------------------------- //\n\n/**\n * getStyle, get style of element, check for Firefox bug\n * https://bugzilla.mozilla.org/show_bug.cgi?id=548397\n */\nfunction getStyle( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    logError( 'Style returned ' + style +\n      '. Are you running this code in a hidden iframe on Firefox? ' +\n      'See https://bit.ly/getsizebug1' );\n  }\n  return style;\n}\n\n// -------------------------- setup -------------------------- //\n\nvar isSetup = false;\n\nvar isBoxSizeOuter;\n\n/**\n * setup\n * check isBoxSizerOuter\n * do on first getSize() rather than on page load for Firefox bug\n */\nfunction setup() {\n  // setup once\n  if ( isSetup ) {\n    return;\n  }\n  isSetup = true;\n\n  // -------------------------- box sizing -------------------------- //\n\n  /**\n   * Chrome & Safari measure the outer-width on style.width on border-box elems\n   * IE11 & Firefox<29 measures the inner-width\n   */\n  var div = document.createElement('div');\n  div.style.width = '200px';\n  div.style.padding = '1px 2px 3px 4px';\n  div.style.borderStyle = 'solid';\n  div.style.borderWidth = '1px 2px 3px 4px';\n  div.style.boxSizing = 'border-box';\n\n  var body = document.body || document.documentElement;\n  body.appendChild( div );\n  var style = getStyle( div );\n  // round value for browser zoom. desandro/masonry#928\n  isBoxSizeOuter = Math.round( getStyleSize( style.width ) ) == 200;\n  getSize.isBoxSizeOuter = isBoxSizeOuter;\n\n  body.removeChild( div );\n}\n\n// -------------------------- getSize -------------------------- //\n\nfunction getSize( elem ) {\n  setup();\n\n  // use querySeletor if elem is string\n  if ( typeof elem == 'string' ) {\n    elem = document.querySelector( elem );\n  }\n\n  // do not proceed on non-objects\n  if ( !elem || typeof elem != 'object' || !elem.nodeType ) {\n    return;\n  }\n\n  var style = getStyle( elem );\n\n  // if hidden, everything is 0\n  if ( style.display == 'none' ) {\n    return getZeroSize();\n  }\n\n  var size = {};\n  size.width = elem.offsetWidth;\n  size.height = elem.offsetHeight;\n\n  var isBorderBox = size.isBorderBox = style.boxSizing == 'border-box';\n\n  // get all measurements\n  for ( var i=0; i < measurementsLength; i++ ) {\n    var measurement = measurements[i];\n    var value = style[ measurement ];\n    var num = parseFloat( value );\n    // any 'auto', 'medium' value will be 0\n    size[ measurement ] = !isNaN( num ) ? num : 0;\n  }\n\n  var paddingWidth = size.paddingLeft + size.paddingRight;\n  var paddingHeight = size.paddingTop + size.paddingBottom;\n  var marginWidth = size.marginLeft + size.marginRight;\n  var marginHeight = size.marginTop + size.marginBottom;\n  var borderWidth = size.borderLeftWidth + size.borderRightWidth;\n  var borderHeight = size.borderTopWidth + size.borderBottomWidth;\n\n  var isBorderBoxSizeOuter = isBorderBox && isBoxSizeOuter;\n\n  // overwrite width and height if we can get it from style\n  var styleWidth = getStyleSize( style.width );\n  if ( styleWidth !== false ) {\n    size.width = styleWidth +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingWidth + borderWidth );\n  }\n\n  var styleHeight = getStyleSize( style.height );\n  if ( styleHeight !== false ) {\n    size.height = styleHeight +\n      // add padding and border unless it's already including it\n      ( isBorderBoxSizeOuter ? 0 : paddingHeight + borderHeight );\n  }\n\n  size.innerWidth = size.width - ( paddingWidth + borderWidth );\n  size.innerHeight = size.height - ( paddingHeight + borderHeight );\n\n  size.outerWidth = size.width + marginWidth;\n  size.outerHeight = size.height + marginHeight;\n\n  return size;\n}\n\nreturn getSize;\n\n});\n","/**\n * EvEmitter v1.1.0\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n\n( function( global, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, window */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.EvEmitter = factory();\n  }\n\n}( typeof window != 'undefined' ? window : this, function() {\n\n\"use strict\";\n\nfunction EvEmitter() {}\n\nvar proto = EvEmitter.prototype;\n\nproto.on = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // set events hash\n  var events = this._events = this._events || {};\n  // set listeners array\n  var listeners = events[ eventName ] = events[ eventName ] || [];\n  // only add once\n  if ( listeners.indexOf( listener ) == -1 ) {\n    listeners.push( listener );\n  }\n\n  return this;\n};\n\nproto.once = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // add event\n  this.on( eventName, listener );\n  // set once flag\n  // set onceEvents hash\n  var onceEvents = this._onceEvents = this._onceEvents || {};\n  // set onceListeners object\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\n  // set flag\n  onceListeners[ listener ] = true;\n\n  return this;\n};\n\nproto.off = function( eventName, listener ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var index = listeners.indexOf( listener );\n  if ( index != -1 ) {\n    listeners.splice( index, 1 );\n  }\n\n  return this;\n};\n\nproto.emitEvent = function( eventName, args ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  // copy over to avoid interference if .off() in listener\n  listeners = listeners.slice(0);\n  args = args || [];\n  // once stuff\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\n\n  for ( var i=0; i < listeners.length; i++ ) {\n    var listener = listeners[i]\n    var isOnce = onceListeners && onceListeners[ listener ];\n    if ( isOnce ) {\n      // remove listener\n      // remove before trigger to prevent recursion\n      this.off( eventName, listener );\n      // unset once flag\n      delete onceListeners[ listener ];\n    }\n    // trigger listener\n    listener.apply( this, args );\n  }\n\n  return this;\n};\n\nproto.allOff = function() {\n  delete this._events;\n  delete this._onceEvents;\n};\n\nreturn EvEmitter;\n\n}));\n","/*!\n * Unipointer v2.3.0\n * base class for doing one thing with pointer event\n * MIT license\n */\n\n/*jshint browser: true, undef: true, unused: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*global define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'ev-emitter/ev-emitter'\n    ], function( EvEmitter ) {\n      return factory( window, EvEmitter );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter')\n    );\n  } else {\n    // browser global\n    window.Unipointer = factory(\n      window,\n      window.EvEmitter\n    );\n  }\n\n}( window, function factory( window, EvEmitter ) {\n\n'use strict';\n\nfunction noop() {}\n\nfunction Unipointer() {}\n\n// inherit EvEmitter\nvar proto = Unipointer.prototype = Object.create( EvEmitter.prototype );\n\nproto.bindStartEvent = function( elem ) {\n  this._bindStartEvent( elem, true );\n};\n\nproto.unbindStartEvent = function( elem ) {\n  this._bindStartEvent( elem, false );\n};\n\n/**\n * Add or remove start event\n * @param {Boolean} isAdd - remove if falsey\n */\nproto._bindStartEvent = function( elem, isAdd ) {\n  // munge isAdd, default to true\n  isAdd = isAdd === undefined ? true : isAdd;\n  var bindMethod = isAdd ? 'addEventListener' : 'removeEventListener';\n\n  // default to mouse events\n  var startEvent = 'mousedown';\n  if ( window.PointerEvent ) {\n    // Pointer Events\n    startEvent = 'pointerdown';\n  } else if ( 'ontouchstart' in window ) {\n    // Touch Events. iOS Safari\n    startEvent = 'touchstart';\n  }\n  elem[ bindMethod ]( startEvent, this );\n};\n\n// trigger handler methods for events\nproto.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\n// returns the touch that we're keeping track of\nproto.getTouch = function( touches ) {\n  for ( var i=0; i < touches.length; i++ ) {\n    var touch = touches[i];\n    if ( touch.identifier == this.pointerIdentifier ) {\n      return touch;\n    }\n  }\n};\n\n// ----- start event ----- //\n\nproto.onmousedown = function( event ) {\n  // dismiss clicks from right or middle buttons\n  var button = event.button;\n  if ( button && ( button !== 0 && button !== 1 ) ) {\n    return;\n  }\n  this._pointerDown( event, event );\n};\n\nproto.ontouchstart = function( event ) {\n  this._pointerDown( event, event.changedTouches[0] );\n};\n\nproto.onpointerdown = function( event ) {\n  this._pointerDown( event, event );\n};\n\n/**\n * pointer start\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto._pointerDown = function( event, pointer ) {\n  // dismiss right click and other pointers\n  // button = 0 is okay, 1-4 not\n  if ( event.button || this.isPointerDown ) {\n    return;\n  }\n\n  this.isPointerDown = true;\n  // save pointer identifier to match up touch events\n  this.pointerIdentifier = pointer.pointerId !== undefined ?\n    // pointerId for pointer events, touch.indentifier for touch events\n    pointer.pointerId : pointer.identifier;\n\n  this.pointerDown( event, pointer );\n};\n\nproto.pointerDown = function( event, pointer ) {\n  this._bindPostStartEvents( event );\n  this.emitEvent( 'pointerDown', [ event, pointer ] );\n};\n\n// hash of events to be bound after start event\nvar postStartEvents = {\n  mousedown: [ 'mousemove', 'mouseup' ],\n  touchstart: [ 'touchmove', 'touchend', 'touchcancel' ],\n  pointerdown: [ 'pointermove', 'pointerup', 'pointercancel' ],\n};\n\nproto._bindPostStartEvents = function( event ) {\n  if ( !event ) {\n    return;\n  }\n  // get proper events to match start event\n  var events = postStartEvents[ event.type ];\n  // bind events to node\n  events.forEach( function( eventName ) {\n    window.addEventListener( eventName, this );\n  }, this );\n  // save these arguments\n  this._boundPointerEvents = events;\n};\n\nproto._unbindPostStartEvents = function() {\n  // check for _boundEvents, in case dragEnd triggered twice (old IE8 bug)\n  if ( !this._boundPointerEvents ) {\n    return;\n  }\n  this._boundPointerEvents.forEach( function( eventName ) {\n    window.removeEventListener( eventName, this );\n  }, this );\n\n  delete this._boundPointerEvents;\n};\n\n// ----- move event ----- //\n\nproto.onmousemove = function( event ) {\n  this._pointerMove( event, event );\n};\n\nproto.onpointermove = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerMove( event, event );\n  }\n};\n\nproto.ontouchmove = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerMove( event, touch );\n  }\n};\n\n/**\n * pointer move\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerMove = function( event, pointer ) {\n  this.pointerMove( event, pointer );\n};\n\n// public\nproto.pointerMove = function( event, pointer ) {\n  this.emitEvent( 'pointerMove', [ event, pointer ] );\n};\n\n// ----- end event ----- //\n\n\nproto.onmouseup = function( event ) {\n  this._pointerUp( event, event );\n};\n\nproto.onpointerup = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerUp( event, event );\n  }\n};\n\nproto.ontouchend = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerUp( event, touch );\n  }\n};\n\n/**\n * pointer up\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerUp = function( event, pointer ) {\n  this._pointerDone();\n  this.pointerUp( event, pointer );\n};\n\n// public\nproto.pointerUp = function( event, pointer ) {\n  this.emitEvent( 'pointerUp', [ event, pointer ] );\n};\n\n// ----- pointer done ----- //\n\n// triggered on pointer up & pointer cancel\nproto._pointerDone = function() {\n  this._pointerReset();\n  this._unbindPostStartEvents();\n  this.pointerDone();\n};\n\nproto._pointerReset = function() {\n  // reset properties\n  this.isPointerDown = false;\n  delete this.pointerIdentifier;\n};\n\nproto.pointerDone = noop;\n\n// ----- pointer cancel ----- //\n\nproto.onpointercancel = function( event ) {\n  if ( event.pointerId == this.pointerIdentifier ) {\n    this._pointerCancel( event, event );\n  }\n};\n\nproto.ontouchcancel = function( event ) {\n  var touch = this.getTouch( event.changedTouches );\n  if ( touch ) {\n    this._pointerCancel( event, touch );\n  }\n};\n\n/**\n * pointer cancel\n * @param {Event} event\n * @param {Event or Touch} pointer\n * @private\n */\nproto._pointerCancel = function( event, pointer ) {\n  this._pointerDone();\n  this.pointerCancel( event, pointer );\n};\n\n// public\nproto.pointerCancel = function( event, pointer ) {\n  this.emitEvent( 'pointerCancel', [ event, pointer ] );\n};\n\n// -----  ----- //\n\n// utility function for getting x/y coords from event\nUnipointer.getPointerPoint = function( pointer ) {\n  return {\n    x: pointer.pageX,\n    y: pointer.pageY\n  };\n};\n\n// -----  ----- //\n\nreturn Unipointer;\n\n}));\n","/*!\n * Unidragger v2.3.0\n * Draggable base class\n * MIT license\n */\n\n/*jshint browser: true, unused: true, undef: true, strict: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /*jshint strict: false */ /*globals define, module, require */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'unipointer/unipointer'\n    ], function( Unipointer ) {\n      return factory( window, Unipointer );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('unipointer')\n    );\n  } else {\n    // browser global\n    window.Unidragger = factory(\n      window,\n      window.Unipointer\n    );\n  }\n\n}( window, function factory( window, Unipointer ) {\n\n'use strict';\n\n// -------------------------- Unidragger -------------------------- //\n\nfunction Unidragger() {}\n\n// inherit Unipointer & EvEmitter\nvar proto = Unidragger.prototype = Object.create( Unipointer.prototype );\n\n// ----- bind start ----- //\n\nproto.bindHandles = function() {\n  this._bindHandles( true );\n};\n\nproto.unbindHandles = function() {\n  this._bindHandles( false );\n};\n\n/**\n * Add or remove start event\n * @param {Boolean} isAdd\n */\nproto._bindHandles = function( isAdd ) {\n  // munge isAdd, default to true\n  isAdd = isAdd === undefined ? true : isAdd;\n  // bind each handle\n  var bindMethod = isAdd ? 'addEventListener' : 'removeEventListener';\n  var touchAction = isAdd ? this._touchActionValue : '';\n  for ( var i=0; i < this.handles.length; i++ ) {\n    var handle = this.handles[i];\n    this._bindStartEvent( handle, isAdd );\n    handle[ bindMethod ]( 'click', this );\n    // touch-action: none to override browser touch gestures. metafizzy/flickity#540\n    if ( window.PointerEvent ) {\n      handle.style.touchAction = touchAction;\n    }\n  }\n};\n\n// prototype so it can be overwriteable by Flickity\nproto._touchActionValue = 'none';\n\n// ----- start event ----- //\n\n/**\n * pointer start\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerDown = function( event, pointer ) {\n  var isOkay = this.okayPointerDown( event );\n  if ( !isOkay ) {\n    return;\n  }\n  // track start event position\n  this.pointerDownPointer = pointer;\n\n  event.preventDefault();\n  this.pointerDownBlur();\n  // bind move and end events\n  this._bindPostStartEvents( event );\n  this.emitEvent( 'pointerDown', [ event, pointer ] );\n};\n\n// nodes that have text fields\nvar cursorNodes = {\n  TEXTAREA: true,\n  INPUT: true,\n  SELECT: true,\n  OPTION: true,\n};\n\n// input types that do not have text fields\nvar clickTypes = {\n  radio: true,\n  checkbox: true,\n  button: true,\n  submit: true,\n  image: true,\n  file: true,\n};\n\n// dismiss inputs with text fields. flickity#403, flickity#404\nproto.okayPointerDown = function( event ) {\n  var isCursorNode = cursorNodes[ event.target.nodeName ];\n  var isClickType = clickTypes[ event.target.type ];\n  var isOkay = !isCursorNode || isClickType;\n  if ( !isOkay ) {\n    this._pointerReset();\n  }\n  return isOkay;\n};\n\n// kludge to blur previously focused input\nproto.pointerDownBlur = function() {\n  var focused = document.activeElement;\n  // do not blur body for IE10, metafizzy/flickity#117\n  var canBlur = focused && focused.blur && focused != document.body;\n  if ( canBlur ) {\n    focused.blur();\n  }\n};\n\n// ----- move event ----- //\n\n/**\n * drag move\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerMove = function( event, pointer ) {\n  var moveVector = this._dragPointerMove( event, pointer );\n  this.emitEvent( 'pointerMove', [ event, pointer, moveVector ] );\n  this._dragMove( event, pointer, moveVector );\n};\n\n// base pointer move logic\nproto._dragPointerMove = function( event, pointer ) {\n  var moveVector = {\n    x: pointer.pageX - this.pointerDownPointer.pageX,\n    y: pointer.pageY - this.pointerDownPointer.pageY\n  };\n  // start drag if pointer has moved far enough to start drag\n  if ( !this.isDragging && this.hasDragStarted( moveVector ) ) {\n    this._dragStart( event, pointer );\n  }\n  return moveVector;\n};\n\n// condition if pointer has moved far enough to start drag\nproto.hasDragStarted = function( moveVector ) {\n  return Math.abs( moveVector.x ) > 3 || Math.abs( moveVector.y ) > 3;\n};\n\n// ----- end event ----- //\n\n/**\n * pointer up\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.pointerUp = function( event, pointer ) {\n  this.emitEvent( 'pointerUp', [ event, pointer ] );\n  this._dragPointerUp( event, pointer );\n};\n\nproto._dragPointerUp = function( event, pointer ) {\n  if ( this.isDragging ) {\n    this._dragEnd( event, pointer );\n  } else {\n    // pointer didn't move enough for drag to start\n    this._staticClick( event, pointer );\n  }\n};\n\n// -------------------------- drag -------------------------- //\n\n// dragStart\nproto._dragStart = function( event, pointer ) {\n  this.isDragging = true;\n  // prevent clicks\n  this.isPreventingClicks = true;\n  this.dragStart( event, pointer );\n};\n\nproto.dragStart = function( event, pointer ) {\n  this.emitEvent( 'dragStart', [ event, pointer ] );\n};\n\n// dragMove\nproto._dragMove = function( event, pointer, moveVector ) {\n  // do not drag if not dragging yet\n  if ( !this.isDragging ) {\n    return;\n  }\n\n  this.dragMove( event, pointer, moveVector );\n};\n\nproto.dragMove = function( event, pointer, moveVector ) {\n  event.preventDefault();\n  this.emitEvent( 'dragMove', [ event, pointer, moveVector ] );\n};\n\n// dragEnd\nproto._dragEnd = function( event, pointer ) {\n  // set flags\n  this.isDragging = false;\n  // re-enable clicking async\n  setTimeout( function() {\n    delete this.isPreventingClicks;\n  }.bind( this ) );\n\n  this.dragEnd( event, pointer );\n};\n\nproto.dragEnd = function( event, pointer ) {\n  this.emitEvent( 'dragEnd', [ event, pointer ] );\n};\n\n// ----- onclick ----- //\n\n// handle all clicks and prevent clicks when dragging\nproto.onclick = function( event ) {\n  if ( this.isPreventingClicks ) {\n    event.preventDefault();\n  }\n};\n\n// ----- staticClick ----- //\n\n// triggered after pointer down & up with no/tiny movement\nproto._staticClick = function( event, pointer ) {\n  // ignore emulated mouse up clicks\n  if ( this.isIgnoringMouseUp && event.type == 'mouseup' ) {\n    return;\n  }\n\n  this.staticClick( event, pointer );\n\n  // set flag for emulated clicks 300ms after touchend\n  if ( event.type != 'mouseup' ) {\n    this.isIgnoringMouseUp = true;\n    // reset flag after 300ms\n    setTimeout( function() {\n      delete this.isIgnoringMouseUp;\n    }.bind( this ), 400 );\n  }\n};\n\nproto.staticClick = function( event, pointer ) {\n  this.emitEvent( 'staticClick', [ event, pointer ] );\n};\n\n// ----- utils ----- //\n\nUnidragger.getPointerPoint = Unipointer.getPointerPoint;\n\n// -----  ----- //\n\nreturn Unidragger;\n\n}));\n","/*!\n * Draggabilly v2.2.0\n * Make that shiz draggable\n * https://draggabilly.desandro.com\n * MIT license\n */\n\n/*jshint browser: true, strict: true, undef: true, unused: true */\n\n( function( window, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /*globals define, module, require */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n        'get-size/get-size',\n        'unidragger/unidragger'\n      ],\n      function( getSize, Unidragger ) {\n        return factory( window, getSize, Unidragger );\n      });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('get-size'),\n      require('unidragger')\n    );\n  } else {\n    // browser global\n    window.Draggabilly = factory(\n      window,\n      window.getSize,\n      window.Unidragger\n    );\n  }\n\n}( window, function factory( window, getSize, Unidragger ) {\n\n'use strict';\n\n// -------------------------- helpers & variables -------------------------- //\n\n// extend objects\nfunction extend( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n}\n\nfunction noop() {}\n\nvar jQuery = window.jQuery;\n\n// --------------------------  -------------------------- //\n\nfunction Draggabilly( element, options ) {\n  // querySelector if string\n  this.element = typeof element == 'string' ?\n    document.querySelector( element ) : element;\n\n  if ( jQuery ) {\n    this.$element = jQuery( this.element );\n  }\n\n  // options\n  this.options = extend( {}, this.constructor.defaults );\n  this.option( options );\n\n  this._create();\n}\n\n// inherit Unidragger methods\nvar proto = Draggabilly.prototype = Object.create( Unidragger.prototype );\n\nDraggabilly.defaults = {\n};\n\n/**\n * set options\n * @param {Object} opts\n */\nproto.option = function( opts ) {\n  extend( this.options, opts );\n};\n\n// css position values that don't need to be set\nvar positionValues = {\n  relative: true,\n  absolute: true,\n  fixed: true\n};\n\nproto._create = function() {\n  // properties\n  this.position = {};\n  this._getPosition();\n\n  this.startPoint = { x: 0, y: 0 };\n  this.dragPoint = { x: 0, y: 0 };\n\n  this.startPosition = extend( {}, this.position );\n\n  // set relative positioning\n  var style = getComputedStyle( this.element );\n  if ( !positionValues[ style.position ] ) {\n    this.element.style.position = 'relative';\n  }\n\n  // events, bridge jQuery events from vanilla\n  this.on( 'pointerDown', this.onPointerDown );\n  this.on( 'pointerMove', this.onPointerMove );\n  this.on( 'pointerUp', this.onPointerUp );\n\n  this.enable();\n  this.setHandles();\n};\n\n/**\n * set this.handles and bind start events to 'em\n */\nproto.setHandles = function() {\n  this.handles = this.options.handle ?\n    this.element.querySelectorAll( this.options.handle ) : [ this.element ];\n\n  this.bindHandles();\n};\n\n/**\n * emits events via EvEmitter and jQuery events\n * @param {String} type - name of event\n * @param {Event} event - original event\n * @param {Array} args - extra arguments\n */\nproto.dispatchEvent = function( type, event, args ) {\n  var emitArgs = [ event ].concat( args );\n  this.emitEvent( type, emitArgs );\n  this.dispatchJQueryEvent( type, event, args );\n};\n\nproto.dispatchJQueryEvent = function( type, event, args ) {\n  var jQuery = window.jQuery;\n  // trigger jQuery event\n  if ( !jQuery || !this.$element ) {\n    return;\n  }\n  // create jQuery event\n  var $event = jQuery.Event( event );\n  $event.type = type;\n  this.$element.trigger( $event, args );\n};\n\n// -------------------------- position -------------------------- //\n\n// get x/y position from style\nproto._getPosition = function() {\n  var style = getComputedStyle( this.element );\n  var x = this._getPositionCoord( style.left, 'width' );\n  var y = this._getPositionCoord( style.top, 'height' );\n  // clean up 'auto' or other non-integer values\n  this.position.x = isNaN( x ) ? 0 : x;\n  this.position.y = isNaN( y ) ? 0 : y;\n\n  this._addTransformPosition( style );\n};\n\nproto._getPositionCoord = function( styleSide, measure ) {\n  if ( styleSide.indexOf('%') != -1 ) {\n    // convert percent into pixel for Safari, #75\n    var parentSize = getSize( this.element.parentNode );\n    // prevent not-in-DOM element throwing bug, #131\n    return !parentSize ? 0 :\n      ( parseFloat( styleSide ) / 100 ) * parentSize[ measure ];\n  }\n  return parseInt( styleSide, 10 );\n};\n\n// add transform: translate( x, y ) to position\nproto._addTransformPosition = function( style ) {\n  var transform = style.transform;\n  // bail out if value is 'none'\n  if ( transform.indexOf('matrix') !== 0 ) {\n    return;\n  }\n  // split matrix(1, 0, 0, 1, x, y)\n  var matrixValues = transform.split(',');\n  // translate X value is in 12th or 4th position\n  var xIndex = transform.indexOf('matrix3d') === 0 ? 12 : 4;\n  var translateX = parseInt( matrixValues[ xIndex ], 10 );\n  // translate Y value is in 13th or 5th position\n  var translateY = parseInt( matrixValues[ xIndex + 1 ], 10 );\n  this.position.x += translateX;\n  this.position.y += translateY;\n};\n\n// -------------------------- events -------------------------- //\n\nproto.onPointerDown = function( event, pointer ) {\n  this.element.classList.add('is-pointer-down');\n  this.dispatchJQueryEvent( 'pointerDown', event, [ pointer ] );\n};\n\n/**\n * drag start\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.dragStart = function( event, pointer ) {\n  if ( !this.isEnabled ) {\n    return;\n  }\n  this._getPosition();\n  this.measureContainment();\n  // position _when_ drag began\n  this.startPosition.x = this.position.x;\n  this.startPosition.y = this.position.y;\n  // reset left/top style\n  this.setLeftTop();\n\n  this.dragPoint.x = 0;\n  this.dragPoint.y = 0;\n\n  this.element.classList.add('is-dragging');\n  this.dispatchEvent( 'dragStart', event, [ pointer ] );\n  // start animation\n  this.animate();\n};\n\nproto.measureContainment = function() {\n  var container = this.getContainer();\n  if ( !container ) {\n    return;\n  }\n\n  var elemSize = getSize( this.element );\n  var containerSize = getSize( container );\n  var elemRect = this.element.getBoundingClientRect();\n  var containerRect = container.getBoundingClientRect();\n\n  var borderSizeX = containerSize.borderLeftWidth + containerSize.borderRightWidth;\n  var borderSizeY = containerSize.borderTopWidth + containerSize.borderBottomWidth;\n\n  var position = this.relativeStartPosition = {\n    x: elemRect.left - ( containerRect.left + containerSize.borderLeftWidth ),\n    y: elemRect.top - ( containerRect.top + containerSize.borderTopWidth )\n  };\n\n  this.containSize = {\n    width: ( containerSize.width - borderSizeX ) - position.x - elemSize.width,\n    height: ( containerSize.height - borderSizeY ) - position.y - elemSize.height\n  };\n};\n\nproto.getContainer = function() {\n  var containment = this.options.containment;\n  if ( !containment ) {\n    return;\n  }\n  var isElement = containment instanceof HTMLElement;\n  // use as element\n  if ( isElement ) {\n    return containment;\n  }\n  // querySelector if string\n  if ( typeof containment == 'string' ) {\n    return document.querySelector( containment );\n  }\n  // fallback to parent element\n  return this.element.parentNode;\n};\n\n// ----- move event ----- //\n\nproto.onPointerMove = function( event, pointer, moveVector ) {\n  this.dispatchJQueryEvent( 'pointerMove', event, [ pointer, moveVector ] );\n};\n\n/**\n * drag move\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.dragMove = function( event, pointer, moveVector ) {\n  if ( !this.isEnabled ) {\n    return;\n  }\n  var dragX = moveVector.x;\n  var dragY = moveVector.y;\n\n  var grid = this.options.grid;\n  var gridX = grid && grid[0];\n  var gridY = grid && grid[1];\n\n  dragX = applyGrid( dragX, gridX );\n  dragY = applyGrid( dragY, gridY );\n\n  dragX = this.containDrag( 'x', dragX, gridX );\n  dragY = this.containDrag( 'y', dragY, gridY );\n\n  // constrain to axis\n  dragX = this.options.axis == 'y' ? 0 : dragX;\n  dragY = this.options.axis == 'x' ? 0 : dragY;\n\n  this.position.x = this.startPosition.x + dragX;\n  this.position.y = this.startPosition.y + dragY;\n  // set dragPoint properties\n  this.dragPoint.x = dragX;\n  this.dragPoint.y = dragY;\n\n  this.dispatchEvent( 'dragMove', event, [ pointer, moveVector ] );\n};\n\nfunction applyGrid( value, grid, method ) {\n  method = method || 'round';\n  return grid ? Math[ method ]( value / grid ) * grid : value;\n}\n\nproto.containDrag = function( axis, drag, grid ) {\n  if ( !this.options.containment ) {\n    return drag;\n  }\n  var measure = axis == 'x' ? 'width' : 'height';\n\n  var rel = this.relativeStartPosition[ axis ];\n  var min = applyGrid( -rel, grid, 'ceil' );\n  var max = this.containSize[ measure ];\n  max = applyGrid( max, grid, 'floor' );\n  return  Math.max( min, Math.min( max, drag ) );\n};\n\n// ----- end event ----- //\n\n/**\n * pointer up\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.onPointerUp = function( event, pointer ) {\n  this.element.classList.remove('is-pointer-down');\n  this.dispatchJQueryEvent( 'pointerUp', event, [ pointer ] );\n};\n\n/**\n * drag end\n * @param {Event} event\n * @param {Event or Touch} pointer\n */\nproto.dragEnd = function( event, pointer ) {\n  if ( !this.isEnabled ) {\n    return;\n  }\n  // use top left position when complete\n  this.element.style.transform = '';\n  this.setLeftTop();\n  this.element.classList.remove('is-dragging');\n  this.dispatchEvent( 'dragEnd', event, [ pointer ] );\n};\n\n// -------------------------- animation -------------------------- //\n\nproto.animate = function() {\n  // only render and animate if dragging\n  if ( !this.isDragging ) {\n    return;\n  }\n\n  this.positionDrag();\n\n  var _this = this;\n  requestAnimationFrame( function animateFrame() {\n    _this.animate();\n  });\n\n};\n\n// left/top positioning\nproto.setLeftTop = function() {\n  this.element.style.left = this.position.x + 'px';\n  this.element.style.top  = this.position.y + 'px';\n};\n\nproto.positionDrag = function() {\n  this.element.style.transform = 'translate3d( ' + this.dragPoint.x +\n    'px, ' + this.dragPoint.y + 'px, 0)';\n};\n\n// ----- staticClick ----- //\n\nproto.staticClick = function( event, pointer ) {\n  this.dispatchEvent( 'staticClick', event, [ pointer ] );\n};\n\n// ----- methods ----- //\n\n/**\n * @param {Number} x\n * @param {Number} y\n */\nproto.setPosition = function( x, y ) {\n  this.position.x = x;\n  this.position.y = y;\n  this.setLeftTop();\n};\n\nproto.enable = function() {\n  this.isEnabled = true;\n};\n\nproto.disable = function() {\n  this.isEnabled = false;\n  if ( this.isDragging ) {\n    this.dragEnd();\n  }\n};\n\nproto.destroy = function() {\n  this.disable();\n  // reset styles\n  this.element.style.transform = '';\n  this.element.style.left = '';\n  this.element.style.top = '';\n  this.element.style.position = '';\n  // unbind handles\n  this.unbindHandles();\n  // remove jQuery data\n  if ( this.$element ) {\n    this.$element.removeData('draggabilly');\n  }\n};\n\n// ----- jQuery bridget ----- //\n\n// required for jQuery bridget\nproto._init = noop;\n\nif ( jQuery && jQuery.bridget ) {\n  jQuery.bridget( 'draggabilly', Draggabilly );\n}\n\n// -----  ----- //\n\nreturn Draggabilly;\n\n}));\n","export default (instance, proto) => {\n  if (proto == null) proto = Object.getPrototypeOf(instance)\n\n  const propertyNames = Object.getOwnPropertyNames(proto)\n  for (let name of propertyNames) {\n    const value = proto[name]\n    if (typeof value === 'function') instance[name] = proto[name].bind(instance)\n  }\n}\n","import Draggabilly from 'draggabilly'\nimport autobind from '../utils/class-autobind'\n\nexport default class Box {\n  constructor (element, {\n    container = document.documentElement,\n    grid = [1, 1],\n    debug = false,\n    draggabillyAdditionalOptions = {}\n  } = {}) {\n    if (!element) {\n      throw new TypeError(`pinp.Box constructor expects HTMLElement, ${typeof element} given`)\n    }\n\n    this.grid = grid\n    this.debug = debug\n\n    this.element = element\n    this.element.style.position = 'absolute'\n    this.container = container\n\n    this.lastMove = Date.now()\n\n    const draggabillyOptions = Object.assign({}, draggabillyAdditionalOptions, { grid, containment: container })\n    this.dragInstance = new Draggabilly(element, draggabillyOptions)\n\n    this.dragInstance.on('dragStart', () => { this.isDragging = true })\n    this.dragInstance.on('dragMove', () => { this.lastMove = Date.now() })\n    this.dragInstance.on('dragEnd', () => { this.isDragging = false })\n\n    autobind(this)\n  }\n\n  static isBox (object) {\n    return object instanceof Box\n  }\n\n  static TypeError (object) {\n    return new TypeError(`Expecting a pinp.Box instance but got ${object}`)\n  }\n\n  destroy () {\n    this.dragInstance.destroy()\n  }\n\n  collide (box) {\n    return this.collideOnXAxis(box) && this.collideOnYAxis(box)\n  }\n\n  delta (box) {\n    return [\n      this.center.x - box.center.x,\n      this.center.y - box.center.y\n    ]\n  }\n\n  freeze () {\n    if (this.frozen) return\n    this.frozen = true\n    this.frozenBoundingBox = this._computeBoundingBox()\n    if (this.debug) this.element.classList.add('frozen')\n  }\n\n  unfreeze () {\n    this.frozen = false\n    if (this.debug) this.element.classList.remove('frozen')\n  }\n\n  collideOnYAxis (box) {\n    if (!box) return\n    if (box === this) return false\n\n    return this.xmax > box.xmin && this.xmin < box.xmax\n  }\n\n  collideOnXAxis (box) {\n    if (!box) return\n    if (box === this) return false\n\n    return this.ymax > box.ymin && this.ymin < box.ymax\n  }\n\n  move (x, y) {\n    if (this.isDragging) return\n\n    this.dragInstance.setPosition(x, y)\n    this.lastMove = Date.now()\n    this.update()\n  }\n\n  update () {\n    this.boundingBox = this._computeBoundingBox()\n\n    // NOTE: in addition to Box.boundingBox, all boundingBox keys are accessible directly via Box[key]\n    Object.keys(this.boundingBox).forEach(key => {\n      this[key] = this.boundingBox[key]\n    })\n  }\n\n  // WARNING: due to Element.getBoundingClientRect causing layout repaint,\n  // Box.boundingBox is memoized and only recomputed on Box.update call\n  _computeBoundingBox () {\n    const { width, height } = this.element.getBoundingClientRect()\n    const x = this.dragInstance.position.x\n    const y = this.dragInstance.position.y\n    return Object.freeze({\n      x,\n      y,\n      width,\n      height,\n      xmin: x,\n      ymin: y,\n      xmax: x + width,\n      ymax: y + height,\n      center: {\n        x: x + width / 2,\n        y: y + height / 2\n      }\n    })\n  }\n}\n","import Box from './Box'\nimport autobind from '../utils/class-autobind'\n\nexport default class Cluster {\n  constructor ({\n    container = document.documentElement,\n    boundaries = {\n      top: 'none', // 'none', 'soft', 'hard'\n      left: 'none',\n      right: 'none',\n      bottom: 'none'\n    },\n    debug = false,\n    maxSolverIterations = 999,\n    pushDirection = 'both' // 'horizontal', 'vertical' or 'both'\n  } = {}) {\n    this.boxes = []\n\n    this.debug = debug\n    this.container = container\n    this.maxSolverIterations = maxSolverIterations\n    this.pushDirection = pushDirection\n\n    this.boundaries = Object.assign({\n      top: 'none',\n      left: 'none',\n      right: 'none',\n      bottom: 'none'\n    }, boundaries)\n\n    if (Object.values(this.boundaries).filter(b => b === 'hard').length > 2) {\n      console.warn([\n        `A pinp.Cluster has been initialized with more than two 'hard' boundaries`,\n        `As this may cause some packing issues when running out of space, we recommand setting at least two boundaries as either 'soft' or 'none'.`\n      ].join('\\n'))\n    }\n\n    autobind(this)\n  }\n\n  add (box) {\n    if (!Box.isBox(box)) throw Box.TypeError(box)\n    this.boxes.push(box)\n  }\n\n  remove (box) {\n    if (!Box.isBox(box)) throw Box.TypeError(box)\n\n    const index = this.boxes.indexOf(box)\n    if (index > -1) {\n      box.destroy()\n      this.boxes.splice(index, 1)\n    }\n  }\n\n  freeze () {\n    if (this.frozen) return\n    this.frozen = true\n    this.boxes.forEach(box => box.freeze())\n  }\n\n  unfreeze () {\n    if (!this.frozen) return\n    this.frozen = false\n    this.boxes.forEach(box => box.unfreeze())\n  }\n\n  static computeBoundingBox (boxes) {\n    let x = Number.POSITIVE_INFINITY\n    let y = Number.POSITIVE_INFINITY\n    let width = Number.NEGATIVE_INFINITY\n    let height = Number.NEGATIVE_INFINITY\n\n    boxes.forEach(box => {\n      if (!box.boundingBox) box.update()\n\n      x = Math.min(x, box.xmin)\n      y = Math.min(y, box.ymin)\n      width = Math.max(width, box.xmax)\n      height = Math.max(height, box.ymax)\n    })\n\n    return {\n      x,\n      y,\n      width,\n      height,\n      xmin: x,\n      xmax: x + width,\n      ymin: y,\n      ymax: y + height\n    }\n  }\n\n  // NOTE: Cluster.pack can punctually take options different than thoses passed at Cluster instanciation\n  pack ({\n    maxSolverIterations = this.maxSolverIterations,\n    debug = this.debug,\n    pushDirection = this.pushDirection\n  } = {}) {\n    this._prepareBoxes({ debug })\n    this._getContainerSize()\n\n    let _itercount = 0\n    let woke = this.boxes.filter(box => this.boxes.some(box.collide))\n    while (woke.length && ++_itercount < maxSolverIterations) {\n      const current = woke.shift()\n\n      const movedBoxes = this._solveFor(current, { debug, pushDirection })\n      if (!movedBoxes || !movedBoxes.length) continue\n      woke = woke.concat(movedBoxes)\n    }\n\n    if (this.frozen) return\n\n    this._updateBoundingBox()\n  }\n\n  _prepareBoxes ({ debug = this.direction } = {}) {\n    if (!this.boxes.length) return\n\n    // Sort all boxes from most recent moved to oldest move\n    this.boxes = this.boxes.sort((a, b) => b.lastMove - a.lastMove)\n\n    // As we want to preserve the frozen state upon packing,\n    // we ensure that the box will stay where it has been frozen\n    this.boxes.forEach((box, index) => {\n      if (box.frozen) box.move(box.frozenBoundingBox.x, box.frozenBoundingBox.y)\n      else box.update()\n\n      box.packingOrder = index\n      if (debug) box.element.setAttribute('data-packing-order', index)\n    })\n  }\n\n  _getContainerSize () {\n    const { width, height } = this.container.getBoundingClientRect()\n    this.containerWidth = width\n    this.containerHeight = height\n  }\n\n  _solveFor (current, {\n    debug = this.debug,\n    pushDirection = this.pushDirection\n  } = {}) {\n    const movedBoxes = []\n    const colliding = this.boxes.filter(current.collide)\n\n    colliding.forEach(box => {\n      const delta = current.delta(box)\n      const collideFrom = {\n        LEFT: delta[0] <= 0,\n        RIGHT: delta[0] > 0,\n        TOP: delta[1] <= 0,\n        BOTTOM: delta[1] > 0\n      }\n\n      const preferedDirection = (pushDirection === 'both')\n        ? Math.abs(delta[0]) >= Math.abs(delta[1]) ? 'horizontal' : 'vertical'\n        : pushDirection\n\n      let x = box.x\n      let y = box.y\n\n      const move = {\n        LEFT: () => { x = current.xmin - box.width; y = box.y },\n        RIGHT: () => { x = current.xmax; y = box.y },\n        UP: () => { x = box.x; y = current.ymin - box.height },\n        DOWN: () => { x = box.x; y = current.ymax },\n        HORIZONTAL: () => collideFrom.LEFT ? move.RIGHT() : move.LEFT(),\n        VERTICAL: () => collideFrom.TOP ? move.DOWN() : move.UP()\n      }\n\n      if (debug) console.log({ current: current.packingOrder, collide: box.packingOrder, delta, preferedDirection })\n\n      // Push box to one direction, based on its collider relative position\n      if (preferedDirection === 'horizontal') move.HORIZONTAL()\n      if (preferedDirection === 'vertical') move.VERTICAL()\n\n      // Correct box position before moving it if colliding with a hard boundary\n      // TODO: handle cornered box\n      if (this.boundaries['top'] === 'hard' && y < 0) move.HORIZONTAL()\n      if (this.boundaries['left'] === 'hard' && x < 0) move.VERTICAL()\n      if (this.boundaries['bottom'] === 'hard' && y + box.height > this.containerHeight) move.HORIZONTAL()\n      if (this.boundaries['right'] === 'hard' && x + box.width > this.containerWidth) move.VERTICAL()\n\n      // The box stays where it is\n      if (x === box.x && y === box.y) return\n\n      box.move(x, y)\n      movedBoxes.push(box)\n    })\n\n    return movedBoxes\n  }\n\n  _updateBoundingBox () {\n    const bb = Cluster.computeBoundingBox(this.boxes)\n    Object.entries(bb).forEach(([key, value]) => {\n      this[key] = value\n    })\n  }\n\n  move (x, y) {\n    if (!x && !y) return\n\n    this.boxes.forEach(box => box.move(box.x + x, box.y + y))\n    this._updateBoundingBox()\n  }\n}\n","export default o => (typeof window.HTMLElement === 'object')\n  ? o instanceof window.HTMLElement\n  : o && typeof o === 'object' && o !== null && o.nodeType === 1 && typeof o.nodeName === 'string'\n","export default function () {}\n","import Cluster from './abstractions/Cluster'\nimport isDomElement from './utils/object-is-dom-element'\nimport Box from './abstractions/Box'\nimport noop from './utils/noop'\n\nexport default (container, {\n  debug = false,\n  grid = [0, 0],\n  maxSolverIterations = 999,\n  boundaries = {\n    top: 'none', // 'none', 'soft', 'hard'\n    left: 'none',\n    right: 'none',\n    bottom: 'none'\n  },\n  pushDirection = 'both', // 'horizontal', 'vertical' or 'both'\n\n  lastDraggedClassname = 'last-dragged',\n\n  willUpdate = noop,\n  didUpdate = noop\n} = {}) => {\n  container = isDomElement(container) ? container : document.querySelector(container)\n  if (!container) throw new Error('Cannot find container')\n\n  const cluster = new Cluster({\n    container,\n    debug,\n    maxSolverIterations,\n    boundaries,\n    pushDirection\n  })\n\n  const api = {\n    add,\n    remove,\n    update,\n    get boxes () { return cluster.boxes },\n    get width () { return cluster.xmax },\n    get height () { return cluster.ymax }\n  }\n\n  return api\n\n  function add (DomElement, draggabillyAdditionalOptions = {}) {\n    const box = new Box(DomElement, { container, debug, grid, draggabillyAdditionalOptions })\n\n    box.dragInstance.on('dragStart', () => {\n      setLastDragged(box)\n      cluster.freeze()\n    })\n\n    box.dragInstance.on('dragMove', () => {\n      window.requestAnimationFrame(() => {\n        willUpdate()\n        // NOTE: forcing debug to `false` to avoid flooding the console\n        box.unfreeze()\n        cluster.pack({ debug: false })\n        didUpdate()\n      })\n    })\n\n    box.dragInstance.on('dragEnd', () => {\n      cluster.unfreeze()\n      update()\n    })\n\n    cluster.add(box)\n    return box\n  }\n\n  function remove (box) {\n    if (isDomElement(box)) {\n      box = cluster.boxes.find(b => b.element === box)\n    }\n    cluster.remove(box)\n  }\n\n  function update () {\n    window.requestAnimationFrame(() => {\n      willUpdate()\n      cluster.pack()\n\n      const dx = boundaries['left'] === 'soft' ? -cluster.x : 0\n      const dy = boundaries['top'] === 'soft' ? -cluster.y : 0\n      cluster.move(dx, dy)\n\n      if (boundaries['left'] === 'soft' || boundaries['right'] === 'soft') {\n        container.style.width = cluster.width + 'px'\n      }\n\n      if (boundaries['top'] === 'soft' || boundaries['bottom'] === 'soft') {\n        container.style.height = cluster.height + 'px'\n      }\n\n      didUpdate()\n    })\n  }\n\n  function setLastDragged (box) {\n    if (!box) return\n\n    const lastDragged = container.querySelectorAll(`.${lastDraggedClassname}`)\n    for (let i = 0; i < lastDragged.length; i++) {\n      lastDragged[i].classList.remove(lastDraggedClassname)\n    }\n\n    box.element.classList.add(lastDraggedClassname)\n  }\n}\n"],"names":["window","factory","module","exports","getSize","getStyleSize","value","num","parseFloat","indexOf","isNaN","logError","console","message","error","measurements","measurementsLength","length","getStyle","elem","style","getComputedStyle","isBoxSizeOuter","isSetup","div","document","createElement","width","padding","borderStyle","borderWidth","boxSizing","body","documentElement","appendChild","Math","round","removeChild","setup","querySelector","nodeType","display","size","height","innerWidth","innerHeight","outerWidth","outerHeight","i","getZeroSize","offsetWidth","offsetHeight","isBorderBox","measurement","paddingWidth","paddingLeft","paddingRight","paddingHeight","paddingTop","paddingBottom","marginWidth","marginLeft","marginRight","marginHeight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderHeight","borderTopWidth","borderBottomWidth","isBorderBoxSizeOuter","styleWidth","styleHeight","global","this","EvEmitter","proto","prototype","on","eventName","listener","events","_events","listeners","push","once","onceEvents","_onceEvents","off","index","splice","emitEvent","args","slice","onceListeners","apply","allOff","require$$0","Unipointer","Object","create","bindStartEvent","_bindStartEvent","unbindStartEvent","isAdd","startEvent","PointerEvent","undefined","handleEvent","event","method","type","getTouch","touches","touch","identifier","pointerIdentifier","onmousedown","button","_pointerDown","ontouchstart","changedTouches","onpointerdown","pointer","isPointerDown","pointerId","pointerDown","_bindPostStartEvents","postStartEvents","mousedown","touchstart","pointerdown","forEach","addEventListener","_boundPointerEvents","_unbindPostStartEvents","removeEventListener","onmousemove","_pointerMove","onpointermove","ontouchmove","pointerMove","onmouseup","_pointerUp","onpointerup","ontouchend","_pointerDone","pointerUp","_pointerReset","pointerDone","onpointercancel","_pointerCancel","ontouchcancel","pointerCancel","getPointerPoint","x","pageX","y","pageY","Unidragger","bindHandles","_bindHandles","unbindHandles","bindMethod","touchAction","_touchActionValue","handles","handle","okayPointerDown","pointerDownPointer","preventDefault","pointerDownBlur","cursorNodes","TEXTAREA","INPUT","SELECT","OPTION","clickTypes","radio","checkbox","submit","image","file","isOkay","target","nodeName","focused","activeElement","blur","moveVector","_dragPointerMove","_dragMove","isDragging","hasDragStarted","_dragStart","abs","_dragPointerUp","_dragEnd","_staticClick","isPreventingClicks","dragStart","dragMove","setTimeout","bind","dragEnd","onclick","isIgnoringMouseUp","staticClick","require$$1","Draggabilly","extend","a","b","prop","jQuery","element","options","$element","constructor","defaults","option","_create","opts","positionValues","relative","absolute","fixed","applyGrid","grid","position","_getPosition","startPoint","dragPoint","startPosition","onPointerDown","onPointerMove","onPointerUp","enable","setHandles","querySelectorAll","dispatchEvent","emitArgs","concat","dispatchJQueryEvent","$event","Event","trigger","_getPositionCoord","left","top","_addTransformPosition","styleSide","measure","parentSize","parentNode","parseInt","transform","matrixValues","split","xIndex","translateX","translateY","classList","add","isEnabled","measureContainment","setLeftTop","animate","container","getContainer","elemSize","containerSize","elemRect","getBoundingClientRect","containerRect","borderSizeX","borderSizeY","relativeStartPosition","containSize","containment","HTMLElement","dragX","dragY","gridX","gridY","containDrag","axis","drag","min","max","remove","positionDrag","_this","requestAnimationFrame","setPosition","disable","destroy","removeData","_init","bridget","instance","getPrototypeOf","getOwnPropertyNames","let","name","Box","ref","TypeError","debug","lastMove","Date","now","draggabillyOptions","assign","draggabillyAdditionalOptions","dragInstance","autobind","isBox","object","collide","box","collideOnXAxis","collideOnYAxis","delta","center","freeze","frozen","frozenBoundingBox","_computeBoundingBox","unfreeze","xmax","xmin","ymax","ymin","move","update","boundingBox","keys","key","Cluster","boxes","maxSolverIterations","pushDirection","boundaries","values","filter","warn","join","computeBoundingBox","Number","POSITIVE_INFINITY","NEGATIVE_INFINITY","pack","_prepareBoxes","_getContainerSize","_itercount","woke","some","current","shift","movedBoxes","_solveFor","_updateBoundingBox","direction","sort","packingOrder","setAttribute","containerWidth","containerHeight","collideFrom","preferedDirection","HORIZONTAL","RIGHT","LEFT","VERTICAL","DOWN","UP","log","bb","entries","o","right","bottom","noop","isDomElement","Error","cluster","DomElement","lastDragged","lastDraggedClassname","setLastDragged","willUpdate","didUpdate","find"],"mappings":"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"}